class TexMex{constructor(e){var t,s,o,i,r,h,l,n;this.buffer=e.buffer,this.posX=e.posX,this.posY=e.posY,this.elementSizeMin=e.elementSizeMin,this.elementSizeMax=e.elementSizeMax,this.elementLayer=e.elementLayer,this.fillColor=e.fillColor,this.secondaryFillColor=e.secondaryFillColor,this.numberQuantisizer=e.numberQuantisizer,this.relCenterX=e.relCenterX,this.relCenterY=e.relCenterY,this.SDevX=e.SDevX,this.SDevY=e.SDevY,this.buffer=e.buffer,this.area=Math.round(Math.round(this.buffer.width/DOMINANTSIDE*100)*Math.round(this.buffer.height/DOMINANTSIDE*100))/100,this.shapeNumber=Math.round(this.area*this.numberQuantisizer),this.elements=[];for(var f=0;f<this.shapeNumber;f++){if(t=fxrand()>.5?this.fillColor:this.secondaryFillColor,o=randomGaussian(this.relCenterX,this.SDevX),i=randomGaussian(this.relCenterY,this.SDevY),s=map(i,this.relCenterY-this.SDevY,this.relCenterY+this.SDevY,-10,10),t=color(constrain(red(t)+s,0,255),constrain(green(t)+s,0,255),constrain(blue(t)+s,0,255),alpha(t)),h=!1,"cLevel"==this.elementLayer){for(var a=0;a<dotSystem.polygonsC.length;a++)r=[[dotSystem.polygonsC[a][0].x,dotSystem.polygonsC[a][0].y],[dotSystem.polygonsC[a][1].x,dotSystem.polygonsC[a][1].y],[dotSystem.polygonsC[a][2].x,dotSystem.polygonsC[a][2].y],[dotSystem.polygonsC[a][3].x,dotSystem.polygonsC[a][3].y]],pointInPolygon(r,[o,i])&&(h=!0);t=h?t:color("#ff000000")}if(l=!1,"bLevel"==this.elementLayer){for(a=0;a<dotSystem.polygonsB.length;a++)r=[[dotSystem.polygonsB[a][0].x,dotSystem.polygonsB[a][0].y],[dotSystem.polygonsB[a][1].x,dotSystem.polygonsB[a][1].y],[dotSystem.polygonsB[a][2].x,dotSystem.polygonsB[a][2].y],[dotSystem.polygonsB[a][3].x,dotSystem.polygonsB[a][3].y]],pointInPolygon(r,[o,i])&&(l=!0);t=l?t:color("#ff000000")}if(n=!1,"aLevel"==this.elementLayer){for(a=0;a<dotSystem.polygonsA.length;a++)r=[[dotSystem.polygonsA[a][0].x,dotSystem.polygonsA[a][0].y],[dotSystem.polygonsA[a][1].x,dotSystem.polygonsA[a][1].y],[dotSystem.polygonsA[a][2].x,dotSystem.polygonsA[a][2].y],[dotSystem.polygonsA[a][3].x,dotSystem.polygonsA[a][3].y]],pointInPolygon(r,[o,i])&&(n=!0);t=n?t:color("#ff000000")}this.elements.push({fillColor:t,widthShape:getRandomFromInterval(this.elementSizeMin,this.elementSizeMax),heightShape:getRandomFromInterval(this.elementSizeMin,this.elementSizeMax),posX:o,posY:i})}}show(){for(var e of this.elements)this.buffer.push(),this.buffer.rectMode(CENTER),this.buffer.ellipseMode(CENTER),this.buffer.noStroke(),this.buffer.fill(e.fillColor),this.buffer.triangle(e.posX,e.posY,e.posX+e.widthShape,e.posY,e.posX,e.posY+e.heightShape),this.buffer.pop();return this.buffer}}class TexMexSystem{constructor(){this.texes=[]}add(e){e.show(),this.texes.push(e)}show(){for(var e of this.texes)push(),translate(-width/2,-height/2),image(e.buffer,e.posX,e.posY,e.buffer.width,e.buffer.height),pop()}}class Gan{constructor(e){this.posX=e.posX,this.posY=e.posY,this.elementSizeMin=e.elementSizeMin,this.elementSizeMax=e.elementSizeMax,this.fillColor=e.fillColor,this.secondaryFillColor=e.secondaryFillColor,this.fillColorNoise=e.fillColorNoise,this.fillColorOpacity=e.fillColorOpacity,this.numberQuantisizer=e.numberQuantisizer,this.buffer=createGraphics(100,100),this.area=Math.round(Math.round(this.buffer.width/DOMINANTSIDE*100)*Math.round(this.buffer.height/DOMINANTSIDE*100))/100,this.shapeNumber=Math.round(10*this.area*this.numberQuantisizer),this.elements=[],this.fillColor=color(red(this.fillColor),green(this.fillColor),blue(this.fillColor),this.fillColorOpacity);for(var t=0;t<this.shapeNumber;t++)this.elements.push({fillColor:distortColorNew(this.fillColor,randomGaussian(0,this.fillColorNoise)),secondaryFillColor:this.secondaryFillColor,widthShape:getRandomFromInterval(this.elementSizeMin,this.elementSizeMax),heightShape:getRandomFromInterval(this.elementSizeMin,this.elementSizeMax),posXEl:randomGaussian(this.buffer.width/8,this.buffer.width/2),posYEl:randomGaussian(this.buffer.height/8,this.buffer.height/2),posXRe:randomGaussian(this.buffer.width/2,this.buffer.width),posYRe:randomGaussian(this.buffer.height/2,this.buffer.height),posXT1:randomGaussian(this.buffer.width/5,this.buffer.width/2),posYT1:randomGaussian(this.buffer.height/5,this.buffer.height/2)})}show(){for(var e of this.elements)this.buffer.push(),fxrand()>.3?this.buffer.fill(e.fillColor):this.buffer.fill(e.secondaryFillColor),this.buffer.rectMode(CENTER),this.buffer.ellipseMode(CENTER),this.buffer.noStroke(),this.buffer.ellipse(e.posXEl,e.posYEl,e.widthShape,e.heightShape),this.buffer.rect(e.posXRe,e.posYRe,e.widthShape,e.heightShape),this.buffer.triangle(e.posXT1,e.posYT1,e.posXT1+e.widthShape,e.posYT1,e.posXT1,e.posYT1+e.heightShape),this.buffer.pop();return this.buffer}}